---
title: Configure Microsoft Defender for Cloud to automatically assess machines for vulnerabilities
description: Use Microsoft Defender for Cloud to ensure your machines have a vulnerability assessment solution
ms.topic: how-to
ms.date: 11/09/2021
---

# Automatically configure vulnerability assessment for your machines

[!INCLUDE [Banner for top of topics](./includes/banner.md)]

Defender for Cloud collects data from your machines using agents and extensions. Those agents and extensions *can* be installed manually (see [Manual installation of the Log Analytics agent](enable-data-collection.md#manual-agent)). However, **auto provisioning** reduces management overhead by installing all required agents and extensions on existing - and new - machines to ensure faster security coverage for all supported resources. Learn more in [Configure auto provisioning for agents and extensions from Microsoft Defender for Cloud](enable-data-collection.md).

To assess your machines for vulnerabilities, you can use one of the following solutions:

- Microsoft's threat and vulnerability management module of Microsoft Defender for Endpoint (included with Microsoft Defender for servers)
- An integrated Qualys agent (included with Microsoft Defender for servers)
- A Qualys or Rapid7 scanner which you have licensed separately and configured within Defender for Cloud (this is called the Bring Your Own License, or BYOL, scenario)

> [!NOTE]
> To automatically configure a BYOL solution, see [Integrate security solutions in Microsoft Defender for Cloud](partner-integration.md).

## Automatically enable a vulnerability assessment solution

1. From Defender for Cloud's menu, open **Environment settings**.
1. Select the relevant subscription.
1. Open the **Auto provisioning** page.
1. Set the status of auto provisioning for the vulnerability assessment for machines to **On** and select the relevant solution.
    :::image type="content" source="media/deploy-vulnerability-assessment-tvm/auto-provision-vulnerability-assessment-agent.png" alt-text="Configure auto provisioning of the threat and vulnerability management module in Microsoft Defender for Cloud.":::

    > [!TIP]
    > Defender for Cloud enables the following policy: [(Preview) Configure machines to receive a vulnerability assessment provider](https://portal.azure.com/#blade/Microsoft_Azure_Policy/PolicyDetailBlade/definitionId/%2fproviders%2fMicrosoft.Authorization%2fpolicyDefinitions%2f13ce0167-8ca6-4048-8e6b-f996402e3c1b).

1. Select **Apply** and **Save**.

1. To view the findings for **all** supported vulnerability assessment solutions, see the **Machines should have vulnerability findings resolved** recommendation.

    Learn more in [View and remediate findings from vulnerability assessment solutions on your machines](remediate-vulnerability-findings-vm.md).


## Next steps
> [!div class="nextstepaction"]
> [Remediate the discovered vulnerabilities](remediate-vulnerability-findings-vm.md)

Defender for Cloud also offers vulnerability assessment for your:

- SQL databases - see [Explore vulnerability assessment reports in the vulnerability assessment dashboard](defender-for-sql-on-machines-vulnerability-assessment.md#explore-vulnerability-assessment-reports)
- Azure Container Registry images - see [Use Microsoft Defender for container registries to scan your images for vulnerabilities](defender-for-container-registries-usage.md)
